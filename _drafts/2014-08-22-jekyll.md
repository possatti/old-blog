---
layout: post
title: "Jekylll"
description: "Breve introdução ao funcionamento do Jekyll, como ele pode ser usado e para quê."
modified: 2014-08-22 07:27:29 -0300
tags: [jekyll]
image:
  feature: 
  credit: 
  creditlink: 
comments: true
share: true
---

Nesse primeiro post eu resolvi escrever sobre a ferramenta (Jekyll) que eu usei para criar o meu primeiro blog, e como ela pode ser útil para vários propósitos.

### O que é o Jekyll?

O [Jekyll][jekyll] é um gerador de websites estáticos. Em poucas palavras, o que ele faz é converter um monte de html, css, javascript, markdown, etc em um website estático. Para usa-lo, você define templates para exibir diferentes tipos de publicações, e define o conteúdo separadamente.

Já que você irá definir a parte bruta através de HTML, CSS e JavaScript, isso te permite ter controle total sobre a estilização do website. Ao mesmo tempo que te permite publicar todo o tipo de conteúdo que você definir.

Mas você ganha praticidade mesmo quando resolve esquematizar o projeto, dividindo-o em templates e conteúdo. Por exemplo, você pode definir um template para posts de um blog, e define o conteúdo dos posts usando uma linguagem mais simples como [markdown][markdown] ou [textile][textile] (markdown é mais usado). Assim, o jekyll irá se responsabilizar processar esse conteúdo e enquadra-lo na definição do seu template de posts. Com isso, o resultado final é uma página html completa com o seu conteúdo. Você pode inclusive ter mais de uma definição de template para posts, e em cada post especificar qual template você deseja usar.

O foco principal do Jekyll está na criação de blogs, mas ele também pode ser usado para projetos mais ambiciosos como por exemplo [o projeto que o grupo Development Seed fez][health-care-developmentseed-post] para criar o portal [HealthCare.gov][health-care] para o governo norte americano.

Ferramentas como essa parecem estar ganhado uma popularidade cada vez maior, como alternativas para CMSs, como o [Wordpress][wordpress] ou [Drupal][drupal]. Pois elimina elementos custosos do desenvolvimento e da manutenção, ao mesmo tempo que te permite um maior controle sobre a estrutura do website. Como exemplo, em um website estático você não precisa se preocupar com um banco de dados.

Porém, com isso você pode acabar perdendo alguma funcionalidade dinâmica de um CMS, que a princípio necessite de uma aplicação do lado do servidor. Mas você pode facilmente compensar isso usando APIs de terceiros para compor o seu website. Uma funcionalidade comum de um CMS é a gestão de comentários nas páginas, mas como você poderia alcançar o mesmo efeito em um site totalmente estático? Você pode usar uma API como a do [Facebook][facebook-comments-plugin] ou do [Disqus][disqus]. Assim, no final das contas, o que você tem é um pequeno código HTML-JavaScript que você joga em seu template, e assim todas as páginas ganham uma seção de comentários. Wooow!

Mas a decisão de escolher um CMS ou um gerador de sites estáticos é bem delicada, e deve ser pensada com cuidado, visando o objetivo final do projeto.

### Personalização do projeto

É possível ainda, acrescentar outras ferramentas no ciclo de vida do seu projeto. Deixando o desenvolvimento mais a seu próprio gosto. Por exemplo, você pode combinar pre-processadores (como o [Less][less] ou [Sass][sass]) para a sua build.

E se você não quiser se preocupar com o desenvolvimento bruto do site, você pode simplesmente escolher um tema já pronto, e se preocupar apenas com o conteúdo. Mas isso te limita a usar o que outras pessoas já criaram.

Existem vários temas para o Jekyll já prontos, a grande maioria deles focada em blogs. Basta escolher um deles, e comerçar a publicar... como eu fiz ;) . Mas se você tiver os conhecimentos necessários, você pode se aventurar e criar o seu próprio tema, e assim construir tudo completamente personalizado.

Como eu disse, há varios temas espalhados pela internet (você pode dar uma olhada [nesse link][jekyll-themes] para conferir vários deles) feitos por diversas pessoas que resolveram compartilhar seus trabalhos. Há álguns não tão bons e alguns incrivelmente bons e de muito bom gosto, cabe a você escolher.

Mas já adianto que se você pretende criar algo muito diferente de um blog, você provavelmente terá que criar tudo manualmente. Isso não é problema do Jekyll em si, pois ele suporta a geração de diversos tipos de conteúdo, e é possível customiza-lo para o que for necessário. Mas se o que você quer for muito específico é provável que você não encontrará nada pronto pela internet.

Se o jekyll não te atender em algum aspecto você pode experimentar outros geradores de sites estáticos como: [Octopress][octopress] (usa o Jekyll), [Hexo][hexo.io], [nanoc][nanoc], entre [vários outros][static-site-generators].

### Como usar

Não adianta, você provavelmente terá que sujar as mãos em algum momento e usar a linha de comando. Mas não é difícil como algumas pessoas pensam. Logo, pare de reclamar, se for o seu caso, e siga em frente. ¬¬

Para exemplificar o uso do Jekyll, vou descrever aqui como criar e gerenciar um blog simples, sem nada demais. Assim você terá conhecimento de como ele funciona, e poderá, então, escolher se irá personalizar tudo na mão ou pegar um tema já pronto e pular o trabalho duro. De qualquer forma, é útil ter um conhecimento de como ele funciona.

O primeiro passo de todos é instala-lo na sua máquina. Para isso consulte as [intruções de instalação][install-jekyll] no site oficial. Lá você encontra instruções detalhadas para a instalação na sua plataforma específica.

Porém, um método fácil de instala-lo é usando o RubyGem, através de um único comando:

{% highlight bash %}
# Talvez você tenha que usar sudo
$ gem install jekyll
{% endhighlight %}

Após isso basta um comando para criar uma estrutura básica:

{% highlight bash %}
$ jekyll new meu-novo-blog
{% endhighlight %}

Assim o jekyll irá criar um exemplo de um blog bem básico com a estrutura exemplificada abaixo (para servir as páginas em localhost basta executar `jekyll serve`).

{% highlight bash %}
$ tree
.
├── about.md
├── _config.yml
├── css
│   └── main.css
├── feed.xml
├── _includes
│   ├── footer.html
│   ├── header.html
│   └── head.html
├── index.html
├── _layouts
│   ├── default.html
│   ├── page.html
│   └── post.html
└── _posts
    └── 2014-08-30-welcome-to-jekyll.markdown
{% endhighlight %}
{% highlight bash %}
{% endhighlight %}

Então permita-me explicar um pouco sobre essa estrutura. `_config.yml` é o arquivo de configuração do seu site, que contém informações como: nome do site, seu e-mail, plugin usados, etc. O diretório `_includes` contém "pedaços de HTML" que você usará para definir seus layouts (templates). Em `_layouts` você deve colocar os seus templates. Os seus layouts são páginas quase completas, esperando apenas para receberem conteúdo. E, finalmente, em `_posts` você define seus posts em uma linguagem como o markdown, por exemplo.

Se você investigar os arquivos html que foram gerados, verá que neles foi usado uma notação diferente no meio do html (um monte de chaves `{}` espalhados). Isso que está sendo usado, são tags [Liquid][liquid]. Elas são [usadas pelo Jekyll para a descrição dos templates][jekyll-liquid]. E são importantes para quando você estiver criando os seus próprios templates. Mas não são necessárias para quando você estiver escrevendo seus posts.

Você pode notar também que quando executamos `jekyll new`, ele criou uma página inicial (`index.html`) e um `about.md` (que quando processado se tornará `about.html`). Além disso, ele gerou um exemplo de um post para você em `_posts/`.

A essa altura você deve querer visualizar o resultado de tudo isso. Então vamos em frente, e depois voltamos para esclarecer mais algumas coisas. Para gerar o website estático é necessário apenas executar o comando `jekyll build` e o jekyll irá processar todos os seus arquivos e gerar o resultado no diretório `_site`. Isso só já basta para você conseguir o que realmente importa, mas vamos fazer um pouco mais do que isso, e vamos executar `jekyll serve`. Assim ele irá servir os arquivos gerados em localhost para que você possa visualizar o site. Então, depois desse último comando, abra o navegador e entre em `localhost:4000` e veja o seu mais novo blog. Tcharaaam!

Repare que é possível executar `jekyll serve --watch` para que o Jekyll fique assistindo o diretório do projeto. E quando qualquer mudança acontecer (quando você editar um post, por exemplo), ele irá gerar novamente os arquivos necessários. O único arquivo que ele não irá assistir é o `_config.yml`. E também repare que não é necessário executar `jekyll build` antes de `jekyll serve`, pois esse último já executa a build automaticamente.

Entenda o que o Jekyll fez. Ele detectou os seus posts em `_posts`, que estão escritos na linguagem markdown, e gerou 

### Para quê usar

### Hospedagem no Github

 - versão do jekyll que roda no Github

[static-site-generators]: http://staticsitegenerators.net/
[jekyll]: http://jekyllrb.com/
[octopress]: http://octopress.org/
[hexo.io]: http://hexo.io/
[nanoc]: http://nanoc.ws/

[health-care]: https://www.healthcare.gov/
[health-care-developmentseed-post]: http://www.developmentseed.org/blog/new-healthcare-gov-is-open-and-cms-free/

[less]: http://lesscss.org/
[sass]: http://sass-lang.com/

[jekyll-themes]: http://jekyllthemes.org/

[drupal]: https://www.drupal.org/
[wordpress]: http://wordpress.org/

[disqus]: https://disqus.com/
[facebook-comments-plugin]: https://developers.facebook.com/docs/plugins/comments

[markdown]: http://en.wikipedia.org/wiki/Markdown
[textile]: http://en.wikipedia.org/wiki/Textile_%28markup_language%29

[install-jekyll]: http://jekyllrb.com/docs/installation/

[liquid]: http://liquidmarkup.org/
[jekyll-liquid]: http://jekyllrb.com/docs/templates/